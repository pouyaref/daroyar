# پرامپت‌های حرفه‌ای برای API GapGPT

این فایل شامل پرامپت‌های حرفه‌ای استفاده شده در پروژه برای دریافت اطلاعات داروها از API GapGPT است.

## 1. پرامپت دریافت اطلاعات یک دارو

```javascript
export const getDrugInfoPrompt = (drugName, language = 'فارسی') => {
  return `شما یک متخصص داروسازی و اطلاعات دارویی هستید. لطفاً اطلاعات کامل و دقیق درباره داروی "${drugName}" را به زبان ${language} ارائه دهید.

لطفاً اطلاعات را در قالب JSON با ساختار زیر برگردانید:

{
  "name": "نام فارسی دارو",
  "englishName": "نام انگلیسی دارو",
  "category": "دسته‌بندی اصلی",
  "subCategory": "زیردسته‌بندی",
  "dosage": "دوز و شکل دارو (مثال: قرص 500mg)",
  "type": "نوع مصرف (خوراکی، تزریقی، موضعی و ...)",
  "form": "شکل دارو (قرص، کپسول، شربت و ...)",
  "usage": "کاربرد اصلی دارو",
  "description": "توضیحات کامل درباره دارو",
  "sideEffects": ["عوارض جانبی 1", "عوارض جانبی 2", ...],
  "seriousSideEffects": ["عوارض جدی 1", "عوارض جدی 2", ...],
  "warnings": "هشدارها و نکات مهم",
  "pregnancy": "گروه بارداری (A, B, C, D, X)",
  "interactions": ["تداخل دارویی 1", "تداخل دارویی 2", ...],
  "storage": "شرایط نگهداری",
  "manufacturer": "سازنده دارو (در صورت موجود بودن)",
  "tags": ["تگ 1", "تگ 2", ...]
}

نکات مهم:
- تمام اطلاعات باید دقیق و علمی باشند
- در صورت عدم اطلاع از اطلاعات خاص، مقدار null یا "نامشخص" قرار دهید
- عوارض جانبی را به ترتیب اهمیت و شیوع فهرست کنید
- اطلاعات باید بر اساس منابع معتبر دارویی باشد
- پاسخ را فقط به صورت JSON خالص برگردانید، بدون توضیحات اضافی`;
};
```

### ویژگی‌های این پرامپت:
- ✅ مشخص کردن نقش AI به عنوان متخصص داروسازی
- ✅ درخواست اطلاعات کامل و دقیق
- ✅ ساختار JSON مشخص و واضح
- ✅ دستورالعمل‌های واضح برای مدیریت داده‌های ناقص
- ✅ تأکید بر دقت علمی و منابع معتبر

---

## 2. پرامپت دریافت دسته‌بندی‌های دارو

```javascript
export const getDrugCategoriesPrompt = (language = 'فارسی') => {
  return `شما یک متخصص داروسازی هستید. لطفاً لیست کامل دسته‌بندی‌های اصلی داروهای ایران را به زبان ${language} ارائه دهید.

لطفاً اطلاعات را در قالب JSON با ساختار زیر برگردانید:

{
  "categories": [
    {
      "id": 1,
      "name": "نام دسته‌بندی",
      "count": تعداد تقریبی داروها,
      "color": "کلاس رنگ برای UI (مثال: from-blue-500 to-blue-600)",
      "icon": "ایموجی مناسب",
      "sub": ["زیردسته 1", "زیردسته 2", ...]
    },
    ...
  ],
  "stats": {
    "totalDrugs": "تعداد کل داروها",
    "totalCategories": "تعداد دسته‌بندی‌ها",
    "totalSubCategories": "تعداد زیردسته‌بندی‌ها",
    "totalManufacturers": "تعداد سازندگان"
  }
}

نکات مهم:
- دسته‌بندی‌های اصلی داروهای ایران را شامل شود (آنتی‌بیوتیک، مسکن، گوارشی، قلبی، دیابت، اعصاب، آلرژی، هورمون و ...)
- برای هر دسته، زیردسته‌های مهم را فهرست کنید
- تعداد تقریبی داروها را بر اساس آمار واقعی ارائه دهید
- پاسخ را فقط به صورت JSON خالص برگردانید، بدون توضیحات اضافی`;
};
```

### ویژگی‌های این پرامپت:
- ✅ درخواست اطلاعات ساختاریافته برای UI
- ✅ شامل آمار و اطلاعات آماری
- ✅ پشتیبانی از زیردسته‌بندی‌ها
- ✅ شامل اطلاعات UI (رنگ، آیکون)

---

## 3. پرامپت جستجوی داروها

```javascript
export const getDrugSearchPrompt = (searchQuery, limit = 20, language = 'فارسی') => {
  return `شما یک متخصص داروسازی هستید. لطفاً داروهای مرتبط با عبارت "${searchQuery}" را جستجو و فهرست کنید.

لطفاً اطلاعات را در قالب JSON با ساختار زیر برگردانید:

{
  "drugs": [
    {
      "id": 1,
      "name": "نام فارسی دارو",
      "englishName": "نام انگلیسی",
      "category": "دسته‌بندی",
      "subCategory": "زیردسته",
      "dosage": "دوز",
      "form": "شکل دارو",
      "usage": "کاربرد",
      "manufacturer": "سازنده",
      "price": "قیمت تقریبی"
    },
    ...
  ],
  "total": تعداد کل نتایج,
  "query": "${searchQuery}"
}

نکات مهم:
- حداکثر ${limit} نتیجه برگردانید
- نتایج را بر اساس مرتبط‌ترین به عبارت جستجو مرتب کنید
- در صورت عدم یافتن نتیجه، آرایه خالی برگردانید
- پاسخ را فقط به صورت JSON خالص برگردانید، بدون توضیحات اضافی`;
};
```

### ویژگی‌های این پرامپت:
- ✅ محدودیت تعداد نتایج
- ✅ مرتب‌سازی بر اساس ارتباط
- ✅ مدیریت حالت عدم یافتن نتیجه
- ✅ ساختار مناسب برای نمایش در لیست

---

## نکات کلی برای نوشتن پرامپت‌های حرفه‌ای

### 1. مشخص کردن نقش AI
همیشه نقش AI را مشخص کنید:
- "شما یک متخصص داروسازی هستید"
- "شما یک متخصص اطلاعات دارویی هستید"

### 2. ساختار JSON واضح
- ساختار دقیق JSON را مشخص کنید
- نام فیلدها را به وضوح تعریف کنید
- نوع داده هر فیلد را مشخص کنید

### 3. دستورالعمل‌های مدیریت خطا
- نحوه برخورد با داده‌های ناقص را مشخص کنید
- حالت‌های خاص را پوشش دهید

### 4. تأکید بر دقت
- بر دقت علمی تأکید کنید
- منابع معتبر را ذکر کنید
- از اطلاعات تصادفی یا غیردقیق جلوگیری کنید

### 5. فرمت خروجی
- همیشه فرمت خروجی را مشخص کنید (JSON)
- از توضیحات اضافی در پاسخ جلوگیری کنید

### 6. پارامترهای قابل تنظیم
- زبان پاسخ
- تعداد نتایج
- سطح جزئیات

---

## مثال استفاده

```javascript
import { getDrugInfo, getDrugCategories, searchDrugs } from '../services/gapgptApi';

// دریافت اطلاعات یک دارو
const drugInfo = await getDrugInfo('آموکسی‌سیلین');

// دریافت دسته‌بندی‌ها
const categories = await getDrugCategories();

// جستجوی داروها
const results = await searchDrugs('آنتی‌بیوتیک', 20);
```

---

## بهبودهای آینده

1. **کش‌گذاری**: ذخیره نتایج برای کاهش درخواست‌های API
2. **اعتبارسنجی**: بررسی صحت ساختار JSON قبل از استفاده
3. **Retry Logic**: تلاش مجدد در صورت خطا
4. **Rate Limiting**: مدیریت محدودیت‌های API
5. **Streaming**: دریافت پاسخ به صورت جریانی برای پاسخ‌های طولانی

