# راهنمای راه‌اندازی API GapGPT

این پروژه از API GapGPT برای دریافت اطلاعات داروها استفاده می‌کند.

## مراحل راه‌اندازی

### 1. دریافت کلید API

1. به پنل توسعه‌دهندگان GapGPT بروید
2. به بخش توکن‌های API بروید
3. روی دکمه «ایجاد کلید API جدید» کلیک کنید
4. یک نام برای کلید خود انتخاب کنید
5. کلید API ایجاد شده را کپی کنید (فقط یک بار نمایش داده می‌شود)

### 2. تنظیم متغیرهای محیطی

1. در ریشه پروژه، یک فایل `.env` ایجاد کنید
2. محتوای زیر را در آن قرار دهید:

```env
VITE_GAPGPT_API_KEY=your_gapgpt_api_key_here
```

3. `your_gapgpt_api_key_here` را با کلید API خود جایگزین کنید

### 3. نصب وابستگی‌ها

پروژه از `fetch` API استفاده می‌کند که در مرورگرهای مدرن به صورت پیش‌فرض موجود است. نیازی به نصب کتابخانه اضافی نیست.

### 4. اجرای پروژه

```bash
npm run dev
```

## ساختار API Service

### فایل: `src/services/gapgptApi.js`

این فایل شامل توابع زیر است:

- `callGapGPT(prompt, model)`: ارسال درخواست به API
- `getDrugInfo(drugName)`: دریافت اطلاعات یک دارو
- `getDrugCategories()`: دریافت لیست دسته‌بندی‌ها
- `searchDrugs(query, limit)`: جستجوی داروها

### پرامپت‌های حرفه‌ای

پرامپت‌های استفاده شده در این پروژه به گونه‌ای طراحی شده‌اند که:

1. اطلاعات دقیق و علمی ارائه دهند
2. پاسخ‌ها را در قالب JSON برگردانند
3. تمام اطلاعات مورد نیاز را شامل شوند
4. بر اساس منابع معتبر دارویی باشند

## استفاده در کامپوننت‌ها

### مثال: دریافت اطلاعات یک دارو

```javascript
import { getDrugData } from '../data/drugsData';

const drugInfo = await getDrugData('آموکسی‌سیلین');
```

### مثال: جستجوی داروها

```javascript
import { searchDrugsData } from '../data/drugsData';

const results = await searchDrugsData('آنتی‌بیوتیک', 20);
```

### مثال: دریافت دسته‌بندی‌ها

```javascript
import { getDrugCategories } from '../services/gapgptApi';

const categories = await getDrugCategories();
```

## مدیریت خطا

تمام توابع API دارای مدیریت خطا هستند و در صورت بروز مشکل، پیام خطای مناسب نمایش داده می‌شود.

## نکات مهم

1. **امنیت**: هرگز کلید API را در کد قرار ندهید. همیشه از متغیرهای محیطی استفاده کنید.
2. **محدودیت‌ها**: هر مدل هزینه متفاوتی دارد. مصرف خود را در پنل مدیریت کنید.
3. **کش**: برای بهبود عملکرد، می‌توانید نتایج را در localStorage یا یک سیستم کش ذخیره کنید.

## پشتیبانی

در صورت بروز مشکل:
1. بررسی کنید که کلید API صحیح است
2. اتصال اینترنت خود را بررسی کنید
3. لاگ‌های کنسول مرورگر را بررسی کنید

